/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define([],function(){"use strict";return{getSelectedTasksDetails:function(e,s){var t,b,T,S,a,I,o,c,k;if(!s){s={oMapWithSelectedTasks:{},bIsClaimActive:true,bIsReleaseActive:true};}for(var i=0;i<e.listItems.length;i++){b=e.listItems[i].getBindingContext("taskModel");I=b.getProperty("InstanceID");o=b.getProperty("SAP__Origin");c=b.getProperty("TaskTitle");k=I+o;if(e.selected){T=b.getProperty("TaskSupports");S=b.getProperty("SupportsClaim");a=b.getProperty("SupportsRelease");t={InstanceID:I,SAP__Origin:o,sTaskTitle:c,sContextPath:b.getPath(),oTaskSupports:T,bSupportsClaim:S,bSupportsRelease:a};s.oMapWithSelectedTasks[k]=t;if(!S&&(!T||!T.Claim)){s.bIsClaimActive=false;}if(!a&&(!T||!T.Release)){s.bIsReleaseActive=false;}}else{var C=s.oMapWithSelectedTasks[k];var v;delete s.oMapWithSelectedTasks[k];if(!s.bIsClaimActive&&!(C.bSupportsClaim&&C.oTaskSupports&&C.oTaskSupports.Claim)){s.bIsClaimActive=true;for(var d in s.oMapWithSelectedTasks){if(s.oMapWithSelectedTasks.hasOwnProperty(d)){v=s.oMapWithSelectedTasks[d];if(!v.bSupportsClaim&&(!v.oTaskSupports||!v.oTaskSupports.Claim)){s.bIsClaimActive=false;break;}}}}if(!s.bIsReleaseActive&&!(C.bSupportsRelease&&C.oTaskSupports&&C.oTaskSupports.Release)){s.bIsReleaseActive=true;for(var f in s.oMapWithSelectedTasks){if(s.oMapWithSelectedTasks.hasOwnProperty(f)){v=s.oMapWithSelectedTasks[f];if(!v.bSupportsRelease&&(!v.oTaskSupports||!v.oTaskSupports.Release)){s.bIsReleaseActive=false;break;}}}}}}return s;}};});
