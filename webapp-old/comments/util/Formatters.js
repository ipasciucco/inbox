/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object"],function(U){"use strict";var u={};var p=sap.ui.require.toUrl("cross/fnd/fiori/inbox")+"/img/home/placeholder.jpg";U.extend("cross.fnd.fiori.inbox.comments",{});cross.fnd.fiori.inbox.comments={formatterUserIcon:function(o,s){var t=this;var a=cross.fnd.fiori.inbox.comments.getRelativeMediaSrc(o,s,this.getModel("detail").getData().sServiceUrl);var b=u[a];if(b!=null){if(b){return a;}else{return;}}var S=function(){u[a]=true;t.setIcon(a);t.rerender();};var e=function(){u[a]=false;};cross.fnd.fiori.inbox.comments.checkImageAvailabilityAsync(a,S,e);return p;},checkImageAvailabilityAsync:function(s,S,e){jQuery.ajax({url:s,type:"GET",contentType:"image/jpeg",async:true,success:function(d,a,j){if(d!=""&&d!=undefined){S();}else{e();}},error:function(d,t,c){e();}});},getRelativeMediaSrc:function(o,s,S){return S+"/UserInfoCollection(SAP__Origin='"+o+"',UniqueName='"+s+"')/$value";}};return cross.fnd.fiori.inbox.comments;});
