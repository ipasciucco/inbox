/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object"],function(U){"use strict";U.extend("cross.fnd.fiori.inbox.util.Parser",{});cross.fnd.fiori.inbox.util.Parser={fnParseComponentParameters:function(r){var c={};if(this.isGuiLinkSapUi5Scheme(r)){c=this.getComponentParameters(r);}return c;},getComponentParameters:function(s){var a="";var S="";var d="";var u=this.getURIParametersForComponent(s);if(u){S=u.data&&u.data[0]?u.data[0]:S;a=u.annotations&&u.annotations[0]?u.annotations[0]:a;}d=this.stripURLParams(s,u);d=this.stripScheme(d,"sapui5://");var A=d.substring(0,d.lastIndexOf("/"));var c=d.substring(d.lastIndexOf("/")+1);return{ComponentName:c,ApplicationPath:A,ServiceURL:S,AnnotationURL:a,QueryParameters:u};},stripScheme:function(s,a){return s.split(a)[1];},stripURLParams:function(s,u){if(!jQuery.isEmptyObject(u)){return s.substring(0,s.indexOf("?"));}return s;},isGuiLinkSapUi5Scheme:function(s){return s&&s.indexOf("sapui5://")===0;},getURIParametersForComponent:function(u){var p={};var q=u;if(q.indexOf("#")>=0){q=q.slice(0,q.indexOf("#"));}if(q.indexOf("?")>=0){q=q.slice(q.indexOf("?")+1);var P=q.split("&"),a,n,v;for(var i=0;i<P.length;i++){var b=P[i].indexOf("=");if(b===-1){continue;}a=[P[i].slice(0,b),P[i].slice(b+1)];n=decodeURIComponent(a[0]);v=a.length>1?decodeURIComponent(a[1].replace(/\+/g," ")):"";if(n){if(!Object.prototype.hasOwnProperty.call(p,n)){p[n]=[];}p[n].push(v);}}}return p;},removeParamsFromUrl:function(k,s){var q=(s.indexOf("?")!==-1)?s.split("?")[1]:"";if(q!==""){var u=s.split("?")[0];var p;var P=[];P=q.split("&");for(var n=0;n<=k.length-1;n++){for(var i=P.length-1;i>=0;i-=1){p=P[i].split("=")[0];if(p===k[n]){P.splice(i,1);}}}u=u+"?"+P.join("&");return u;}return s;}};return cross.fnd.fiori.inbox.util.Parser;});
