/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/core/mvc/XMLView","sap/base/Log"],function(U,X,B){"use strict";U.extend("cross.fnd.fiori.inbox.util.MultiSelect",{});cross.fnd.fiori.inbox.util.MultiSelect={_oFilterViewPromise:null,_oMessageViewPromise:null,_oDetailViewPromise:null,customAttributeDefinitionsLoaded:new jQuery.Deferred(),openFilterDialog:function(f,o,c,m){this._oFilterViewPromise=this._oFilterViewPromise===null?this._createDialog("cross.fnd.fiori.inbox.view.MultiSelectFilter"):this._oFilterViewPromise;this._oFilterViewPromise.then(function(F){F.getController().openDialog(f,o,c);F.getController().byId("DIALOG").setBusy(!m);});},openMessageDialog:function(s,e,c){this._oMessageViewPromise=this._oMessageViewPromise===null?this._createDialog("cross.fnd.fiori.inbox.view.MultiSelectMessage"):this._oMessageViewPromise;this._oMessageViewPromise.then(function(m){m.getController().openDialog(s,e,c);});},openDetailDialog:function(d,c,b){this._oDetailViewPromise=this._oDetailViewPromise===null?this._createDialog("cross.fnd.fiori.inbox.view.MultiSelectDetail"):this._oDetailViewPromise;this._oDetailViewPromise.then(function(D){D.getController().openDialog(d,c,b);});},_createDialog:function(v){return X.create({viewName:v}).catch(function(){B.error(v+" was not created successfully");});},prepareWorkItems:function(w){if(w.length===0){return;}for(var i=0;i<w.length;i++){var a=w[i];for(var p in a){var l=p.toLowerCase();if(a.hasOwnProperty(p)&&l==="customcreatedbyname"||l==="customtasktitle"){w[i][l]=a[p];}else if(a.hasOwnProperty(p)){w[i][encodeURIComponent(p)]=a[p];}}}}};return cross.fnd.fiori.inbox.util.MultiSelect;});
