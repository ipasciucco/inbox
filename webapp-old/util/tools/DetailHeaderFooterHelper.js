/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/m/Button","sap/ui/base/Object","cross/fnd/fiori/inbox/util/tools/CommonHeaderFooterHelper"],function(B,U,C){"use strict";return U.extend("cross.fnd.fiori.inbox.util.tools.DetailHeaderFooterHelper",{constructor:function(a){this.oAppImp=a;this.oCommonHeaderFooterHelper=new C(a,undefined,true);},defineDetailHeaderFooter:function(c){var o=c.getHeaderFooterOptions();this.setHeaderFooter(c,o);},setHeaderFooter:function(c,o,k){if(!o){return;}var p=this.oCommonHeaderFooterHelper.startBuild(c,o,null,k);this.defineHeader(c,p);this.defineFooter(c,p);this.oAppImp.oCurController.DetailCtrl=c;this.oAppImp.oCurController.FullCtrl=null;this.oCommonHeaderFooterHelper.endBuild(c);},defineFooter:function(c,p){var h=this.oCommonHeaderFooterHelper.defineFooterRight(c,p,1000,false,true,true);p.setShowFooter(h||!!c.isMainScreen());},defineHeader:function(c,p){var s=!this.oAppImp.bIsPhone&&(c.isMainScreen()==true),t=c._oHeaderFooterOptions.sDetailTitleId;this.oCommonHeaderFooterHelper.ensureHeader(c,p,this.oAppImp.bIsPhone,s,t);if(c._oHeaderFooterOptions.oHeaderBtnSettings){this.oCommonHeaderFooterHelper.setAppHeaderBtn(c,c._oHeaderFooterOptions.oHeaderBtnSettings);}var T=null;if(c._oHeaderFooterOptions.oUpDownOptions){this.setUpDownButtons(c,c._oHeaderFooterOptions.oUpDownOptions.iPosition,c._oHeaderFooterOptions.oUpDownOptions.iCount);var P=this.getPositionPars(c);var b=null,k=null;if(this.oAppImp.bIsPhone){if(c._oHeaderFooterOptions.oUpDownOptions.sI18NPhoneTitle){b=this.oAppImp.getResourceBundle();k=c._oHeaderFooterOptions.oUpDownOptions.sI18NPhoneTitle;}else{b=this.oAppImp.getUiLibResourceBundle();k="ITEM_TITLE_PHONE";}}else if(c._oHeaderFooterOptions.oUpDownOptions.sI18NDetailTitle){b=this.oAppImp.getResourceBundle();k=c._oHeaderFooterOptions.oUpDownOptions.sI18NDetailTitle;}else{b=this.oAppImp.getUiLibResourceBundle();k="ITEM_TITLE";}T=b.getText(k,P);}else{this.setUpDownButtons(c,0,0);var b=null;if(c._oHeaderFooterOptions.sI18NDetailTitle){b=this.oAppImp.getResourceBundle();T=b.getText(c._oHeaderFooterOptions.sI18NDetailTitle);}else if(c._oHeaderFooterOptions.sDetailTitle){T=c._oHeaderFooterOptions.sDetailTitle;}else{b=this.oAppImp.getResourceBundle();T=b.getText("DETAIL_TITLE");}}c._oControlStore.oTitle.setText(T);},setUpDownButtons:function(c,p,i){if(i<=1){if(c._oControlStore.oUpButton){c._oControlStore.oUpButton.setVisible(false);c._oControlStore.oDownButton.setVisible(false);}}else{if(!c._oControlStore.oUpButton){var m=function(d){c._oHeaderFooterOptions.oUpDownOptions.fSetPosition(c._oHeaderFooterOptions.oUpDownOptions.iPosition+d);};c._oControlStore.oUpButton=new B();c._oControlStore.oUpButton.setIcon("sap-icon://down");c._oControlStore.oUpButton.attachPress(function(){m(1);});c._oControlStore.oHeaderBar.addContentRight(c._oControlStore.oUpButton);c._oControlStore.oDownButton=new B();c._oControlStore.oDownButton.setIcon("sap-icon://up");c._oControlStore.oDownButton.attachPress(function(){m(-1);});c._oControlStore.oHeaderBar.addContentRight(c._oControlStore.oDownButton);}c._oControlStore.oUpButton.setVisible(true);c._oControlStore.oDownButton.setVisible(true);c._oControlStore.oUpButton.setEnabled(p<i-1);c._oControlStore.oDownButton.setEnabled(p>0);}},getPositionPars:function(c){if(c._oHeaderFooterOptions){var r=[c._oHeaderFooterOptions.oUpDownOptions.iPosition+1,c._oHeaderFooterOptions.oUpDownOptions.iCount];if(c._oHeaderFooterOptions.oUpDownOptions.oParent){r=r.concat(this.getPositionPars(c._oHeaderFooterOptions.oUpDownOptions.oParent));}return r;}return[];}});});
