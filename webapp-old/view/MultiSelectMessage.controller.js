/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["cross/fnd/fiori/inbox/util/MultiSelect","sap/ui/model/json/JSONModel","sap/ui/core/library"],function(M,J,l){"use strict";var V=l.ValueState;return sap.ui.controller("cross.fnd.fiori.inbox.view.MultiSelectMessage",{onInit:function(){this.getView().setModel(cross.fnd.fiori.inbox.util.tools.Application.getImpl().AppI18nModel,"i18n");},openDialog:function(s,e,c){this.aSuccessList=s;this.aErrorList=e;this.fnClose=c;var v=this.getView();var i=v.getModel("i18n").getResourceBundle();var t=[];var I={};if(s.length>0){I={name:i.getText(s.length>1?"multi.success_plural":"multi.success",s.length),icon:"sap-icon://sys-enter",state:V.Success,itemStatusList:s,detailTitle:i.getText("multi.success_detail"),};t.push(I);}if(e.length>0){I={name:i.getText(e.length>1?"multi.error_plural":"multi.error",e.length),icon:"sap-icon://error",state:V.Error,itemStatusList:e,detailTitle:i.getText("multi.error_detail")};t.push(I);}var m=new J();m.setData({title:i.getText(t.length>1?"multi.title_plural":"multi.title",t.length),items:t});v.setModel(m);v.byId("DIALOG").open();},closeDialog:function(){this.getView().byId("DIALOG").close();},onItemSelect:function(e){this.closeDialog();var d=e.getSource().getBindingContext().getProperty();var t=this;M.openDetailDialog(d,this.fnClose,function(){M.openMessageDialog(t.aSuccessList,t.aErrorList,t.fnClose);});},onOKPress:function(){this.closeDialog();if(this.fnClose)this.fnClose();}});});
